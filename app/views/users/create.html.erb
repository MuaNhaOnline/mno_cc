<% content_for :stylesheets do %>
	<link rel="stylesheet" type="text/css" href="/assets/shared/cropper.min.css">
<% end %>

<% content_for :scripts do %>
  <script type="text/javascript" src="/assets/users/create.js"></script>
	<script type="text/javascript" src="/assets/shared/cropper.min.js"></script>
<% end %>

<% if @user.new_record? 
	content_for :content_header do %>
  	<%= t 'user.view.create.form_title' %>
  <% end %>
<% end %>

<% 
=begin
	params: @user
=end

	if @user.new_record?
		@title = t 'user.view.create.page_title'
	else
		@title = @user.full_name
	end
%>

<form class="row form" id="create_user" data-entertotab>
	<% unless @user.new_record? %>
		<input type="hidden" name="user[id]" value="<%= @user.id %>" />
	<% end %>
	<div class="col-md-6">
		<article class="box box-default box-primary">
			<section class="box-header with-border">
				<h2 class="box-title">
					<%= t 'user.attribute.account_box' %>
				</h2>
			</section>
			<section class="box-body">

				<% if @user.new_record? %>

					<!-- Account name -->

			    <article class="form-group">
			      <label for="account"><%= t 'user.attribute.account' %></label>
	          <sup class="required-label"></sup>
			      <div class="input-group">
	            <div class="input-group-addon">
	              <i class="fa fa-user"></i>
	            </div>
	            <input name="user[account]" data-constraint="required" type="text" class="form-control" id="account" autofocus />
	          </div>
			    </article>

					<!-- / Account name -->

					<!-- Password -->

					<div class="row">
				    <article class="form-group col-md-6">
				      <label for="password"><%= t 'user.attribute.password' %></label>
	          	<sup class="required-label"></sup>
				      <div class="input-group">
		            <div class="input-group-addon">
		              <i class="fa fa-lock"></i>
		            </div>
		            <input name="user[password]" data-constraint="required" class="form-control" type="password" id="password" />
		          </div>
				    </article>
				    <article class="form-group col-md-6">
				      <label for="repeat_password"><%= t 'user.view.create.repeat_password' %></label>
	         	 	<sup class="required-label"></sup>
				      <div class="input-group">
		            <div class="input-group-addon">
		              <i class="fa fa-lock"></i>
		            </div>
		            <input name="repeat_password" data-constraint="required" class="form-control" type="password" id="repeat_password" />
		          </div>
				    </article>
					</div>

			    <!-- / Password -->

			  <% else %>

			    <!-- Change password -->

			    <article class="form-group">
			    	<a aria-click="change-password" href="javascript:void(0)" class="btn btn-default btn-block">Đổi mật khẩu</a>
			    </article>

			    <!-- / Change password -->

				<% end %>

		    <!-- Email -->

		    <article class="form-group">
		      <label for="email"><%= t 'user.attribute.email' %></label>
          <sup class="required-label"></sup>
		      <div class="input-group">
            <div class="input-group-addon">
              <i class="fa fa-envelope"></i>
            </div>
            <input <% unless @user.new_record? %> data-toggle="popover" data-trigger="focus" data-content="Nếu bạn thay đổi, bạn cần xác nhận ở email cũ lẫn email mới." data-placement="auto" <% end %> value="<%= @user.email %>" name="user[email]" data-constraint="required email" type="text" class="form-control" id="email" />
          </div>
		    </article>

		    <!-- / Email -->

		    <!-- Full name -->

		    <article class="form-group">
		      <label for="full_name"><%= t 'user.attribute.full_name' %></label>
          <sup class="required-label"></sup>
		      <div class="input-group">
            <div class="input-group-addon">
              <i class="fa fa-font"></i>
            </div>
            <input value="<%= @user.full_name %>" name="user[full_name]" data-constraint="required" type="text" class="form-control" id="full_name" />
          </div>
		    </article>

		    <!-- / Full name -->

		    <!-- Birthday -->

		    <article class="form-group">
		      <label for="birthday"><%= t 'user.attribute.birthday' %></label>
		      <div class="input-group">
            <div class="input-group-addon">
              <i class="fa fa-calendar"></i>
            </div>
            <input value="<%= @user.birthday.strftime('%Y') unless @user.birthday.nil? %>" data-constraint="integer range" data-minvalue="1900" data-maxvalue="<%= Date.today.strftime('%Y') %>" class="form-control" type="text" name="user[birthday]" />
          </div>
		    </article>

		    <!-- / Birthday -->

			</section>
		</article>	
	</div>

	<% if @user.new_record? %>

		<div class="col-md-12 hidden-md hidden-lg">

			<!-- Button -->

	    <article class="box box-solid">
	      <section class="box-body row">
	        <div class="margin-top-bottom-5 col-md-12">
          	<button type="submit" class="btn btn-default btn-block btn-flat animate-icon"><span class="icon pull-right fa fa-arrow-down"></span><%= t('user.view.create.half_finish_1').html_safe %></button>
	        </div>
	      </section>
	    </article>

	    <!-- /Button -->

		</div>

	<% end %>

	<div class="col-md-6">
		<article class="box box-default">
			<section class="box-header with-border">
				<h2 class="box-title">
					<%= t 'user.view.create.addition_box' %>
				</h2>
			</section>
			<section class="box-body">

		    <!-- Business name -->

		    <article class="form-group">
		      <label for="business_name"><%= t 'user.attribute.business_name' %></label>
		      <div class="input-group">
            <div class="input-group-addon">
              <i class="fa fa-group"></i>
            </div>
            <input value="<%= @user.business_name %>" name="user[business_name]" type="text" class="form-control" id="business_name" />
          </div>
		    </article>

		    <!-- / Business name -->

		    <!-- Phone number -->

		    <article class="form-group">
		      <label for="phone_number"><%= t 'user.attribute.phone_number' %></label>
		      <div class="input-group">
            <div class="input-group-addon">
              <i class="fa fa-phone"></i>
            </div>
            <input value="<%= @user.phone_number %>" name="user[phone_number]" data-constraint="integer" type="text" class="form-control" id="phone_number" />
          </div>
		    </article>

		    <!-- / Phone number -->

		    <!-- Address -->

		    <article class="form-group">
		      <label for="address"><%= t 'user.attribute.address' %></label>
		      <div class="input-group">
            <div class="input-group-addon">
              <i class="fa fa-home"></i>
            </div>
            <textarea name="user[address]" class="form-control" id="address"><%= @user.address %></textarea>
          </div>
		    </article>

		    <!-- Address -->

		    <!-- Avatar -->

		    <article class="form-group">
		      <label><%= t 'user.attribute.avatar_image' %></label>
          <input data-init-value="<%= @user.avatar_image_id %>" name="user[avatar_image_id]" class="file-upload" type="file" data-type="jpg jpeg png" data-ratio="1" />
		    </article>

		    <!-- / Avatar -->

			</section>
		</article>	
	</div>

	<div class="col-md-12">

		<!-- Button -->

    <article class="box box-solid">
      <section class="box-body row">
      	<% if @user.new_record? %>
	        <div class="margin-top-bottom-5 col-md-6 hidden-xs hidden-sm">
	          <button type="submit" class="btn btn-default btn-block btn-flat"><span class="icon pull-right fa fa-arrow-up" style="transform: rotate(45deg)"></span><%= t('user.view.create.half_finish_2').html_safe %></button>
	        </div>
	        <div class="margin-top-bottom-5 col-md-6">
	          <button type="submit" class="btn btn-primary btn-block btn-flat animate-icon"><span class="icon pull-left fa fa-check"></span><b><%= t 'user.view.create.finish' %></b></button>
	        </div>
	     	<% else %>
	        <div class="margin-top-bottom-5 col-md-12">
	          <button type="submit" class="btn btn-primary btn-block btn-flat animate-icon"><span class="icon pull-left fa fa-check"></span><b><%= t 'user.view.create.finish' %></b></button>
	        </div>
	      <% end %>
      </section>
    </article>

    <!-- /Button -->

	</div>
</form>